!function(c){var e=function(i,t){this.options=t,this.settings={imageClass:"parallax_image",patternClass:"parallax_pattern",contentClass:"parallax_cnt",wrapClass:"parallax"},this.$wrap=c(i),this.$image=c.noop()};e.prototype={init:function(){var i=this;i.isInit=!0,i.createDOM(),i.blur(),i.createListeners()},createDOM:function(){var i=this;i.$wrap.addClass(i.settings.wrapClass).wrapInner(c("<div/>",{class:i.settings.contentClass})).prepend(c("<div/>",{class:i.options.pattern?i.settings.patternClass:i.settings.imageClass}).css({"background-image":"url("+i.options.url+")","background-color":i.options.color})),i.$image=i.options.pattern?i.$wrap.find("."+i.settings.patternClass):i.$wrap.find("."+i.settings.imageClass)},createListeners:function(){this.createResizeListener(),this.createScrollListener()},createScrollListener:function(){var i=this;i.isMobile()&&!i.options.mobile||(c(window).bind("touchstart",function(){i.isTouched=!0}),c(window).bind("touchend",function(){i.timer&&clearTimeout(i.timer),i.timer=setTimeout(function(){i.isTouched=!1},1200)}),c(window).bind("scroll",function(){i.move()}),i.move())},createResizeListener:function(){var i=this;i.isMobile()&&!i.options.mobile||(i.isMobile()||c(window).bind("resize",function(){i.resize()}),c(window).bind("orientationchange",function(){setTimeout(function(){i.resize()},300)}),i.resize())},move:function(){var i=this;if(i.isVisible()&&(!i.isMobile()||i.options.mobile)){var t=c(window).scrollTop(),e=i.$wrap.offset().top,n=c(window).height(),o=i.$wrap.outerHeight(),a=i.$image.height(),r=i.options.speed;r<0&&(r=0),1<r&&(r=1);var s=(t-(e-n))/(e+o-(e-n))*r;if("normal"==i.options.direction)var l=s*(o-a);else l=(1-s)*(o-a);i.isIE()&&i.ieVersion()<=10?i.$image.css("top",l+"px"):i.isMobile()&&i.options.mobile?(i.isTouched||i.isInit)&&(i.$image.stop().animate({pos:l},{step:function(i){c(this).css("transform","translate3d(0, "+i+"px, 0)")},duration:i.options.duration},i.options.easing),i.isInit=!1):i.$image.css("transform","translate3d(0, "+l+"px, 0)"),i.isFirefox()&&window.devicePixelRatio<1&&(i.$image.css("background-color","#010101"),setTimeout(function(){i.$image.css("background-color",i.options.color)},10))}},resize:function(){var i=this,t=Math.max(c(window).height(),500);t<i.$wrap.outerHeight()&&(t=i.$wrap.outerHeight()+c(window).height()*i.options.speed),i.$image.height(t),setTimeout(function(){i.move(),i.blur()},300)},blur:function(){var n=this;!n.options.blur||n.isIE()||n.options.pattern||c("<img/>",{src:n.options.url}).load(function(){var i=n.$image.height()/this.height,t=n.$image.width()/this.width,e=Math.floor(Math.max(i,t));2<e?n.$image.css({filter:"blur("+e+"px)","-webkit-filter":"blur("+e+"px)"}):n.$image.css({filter:"blur(0px)","-webkit-filter":"blur(0px)"})})},isVisible:function(){var i=c(window).scrollTop(),t=c(window).height(),e=this.$wrap.offset().top;return i<=e+this.$wrap.outerHeight()&&e<=i+t},isIE:function(){return-1!=navigator.appVersion.indexOf("MSIE")},isMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},ieVersion:function(){return parseFloat(navigator.appVersion.split("MSIE")[1])},isFirefox:function(){return"undefined"!=typeof InstallTrigger}},c.fn.rdparallax=function(t){return this.each(function(){var i=c.extend({},c.fn.rdparallax.defaults,t);i.url?new e(this,i).init():console.error("RD Parallax: data-url is not defined")})},c.fn.rdparallax.defaults={speed:.4,direction:"normal",blur:!1,mobile:!1,url:!1,pattern:!1,duration:200,easing:"linear",color:"inherit"},window.RDParallax_autoinit=function(i){c(i).each(function(){var i=c.extend({},c.fn.rdparallax.defaults,{url:c(this).data("url"),speed:c(this).data("speed"),direction:c(this).data("direction"),blur:c(this).data("blur"),mobile:c(this).data("mobile"),pattern:c(this).data("pattern"),color:c(this).data("color")});i.url?new e(this,i).init():console.error("RD Parallax: data-url is not defined")})}}(jQuery),$(document).ready(function(){RDParallax_autoinit(".parallax")});