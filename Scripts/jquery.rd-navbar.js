!function(r){var i,s,o="rd-mobilemenu",c="rd-mobilemenu_ul",d="rd-mobilemenu_submenu",e="rd-mobilepanel",n="rd-mobilepanel_toggle",t="rd-mobilepanel_title",a=function(e,t){this.options=t,this.$source=r(e)};a.prototype={init:function(){this.createDOM(),this.createListeners()},createDOM:function(){r("body").append(r("<div/>",{class:o}).append(this.createNavDOM())).append(r("<div/>",{class:e}).append(r("<button/>",{class:n}).append(r("<span/>"))).append(r("<div/>",{class:t}).append(r('[data-type="rd-navbar-brand"]').length?r('[data-type="rd-navbar-brand"]').html():document.title)))},createNavDOM:function(){for(var e=r("<ul>",{class:c}),t=this.$source.children(),a=0;a<t.length;a++){for(var o=t[a].children,n=null,i=0;i<o.length;i++)if(o[i].tagName)switch(n||(n=document.createElement("li"),-1<t[a].className.indexOf("active")&&(n.className="active")),o[i].tagName.toLowerCase()){case"a":var s=o[i].cloneNode(!0);n.appendChild(s);break;case"ul":var l=o[i].cloneNode(!0);l.className=d,r(l).css({display:"none"}),n.appendChild(l),r(n).find("> a").each(function(){$this=r(this),$this.addClass("rd-with-ul").append(r("<span/>",{class:"rd-submenu-toggle"})).find(".rd-submenu-toggle").on("click",function(e){var t;(e.preventDefault(),$this=r(this).parent(),$this.hasClass("rd-with-ul")&&!$this.hasClass("active"))?(r(".rd-with-ul").removeClass("active"),(t=$this.addClass("active").parent().find("."+d)).stop().slideDown(),r("."+d).not(t).stop().slideUp()):(t=$this.removeClass("active").parent().find("."+d)).stop().slideUp()})})}n&&e.append(n)}return e},createListeners:function(){this.createToggleListener(),this.createResizeListener()},createToggleListener:function(){var t,a=this;t=a.isMobile()?"touchstart":"click",r("body").delegate("."+n,t,function(){var e=r("."+o);r(this).toggleClass("active"),e.hasClass("active")?(r(this).removeClass("active"),e.removeClass("active"),r("body").undelegate("*","mousewheel",a.scroll),r("body").undelegate("*","touchmove",a.scroll),r("body").undelegate("*","touchend",a.touchend),r("body").undelegate("*","touchstart",a.close),r("body").undelegate("*:not(."+n+" span)","click",a.close)):(r(this).addClass("active"),e.addClass("active"),r("body").delegate("*","mousewheel",a.scroll),r("body").delegate("*","touchmove",a.scroll),r("body").delegate("*","touchend",a.touchend),r("body").delegate("*","touchstart",{type:t},a.close),r("body").delegate("*:not(."+n+" span)","click",{type:t},a.close))})},createResizeListener:function(){var t=this;r(window).on("resize",function(){var e=r("."+o);"none"==e.css("display")&&(e.removeClass("active"),r("."+n).removeClass("active"),r("body").undelegate("*","mousewheel",t.scroll),r("body").undelegate("*","touchmove",t.scroll),r("body").undelegate("*","touchend",t.touchend),r("body").undelegate("*","touchstart",t.close),r("body").undelegate("*:not(."+n+" span)","click",t.close))})},scroll:function(e){e.preventDefault();var t=r("."+c),a=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX,o=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageY:e.pageY;if(o>t.offset().top&&o<t.offset().top+t.outerHeight()&&a>t.offset().left&&a<t.offset().left+t.outerWidth()){var n=0;e.originalEvent.targetTouches?(i||(i=o),n=i-o,i=o,s=0<n):n=-50*(e.originalEvent.wheelDelta||-e.originalEvent.detail),t.stop().scrollTop(t.scrollTop()+n)}return!1},touchend:function(e){var t=r("."+c);t.stop().animate({scrollTop:t.scrollTop()+(s?100:-100)},3e3,"easeOutQuint"),i=void 0},close:function(e){if(e.originalEvent){var t=r("."+c),a=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX,o=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageY:e.pageY;o>t.offset().top&&o<t.offset().top+t.outerHeight()&&a>t.offset().left&&a<t.offset().left+t.outerWidth()||r("."+n).trigger(e.data.type)}},isMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}},r.fn.rdparallax=function(e){var t=this;return t.length&&new a(t[0]).init(),t},window.RDMobilemenu_autoinit=function(e){var t=r(e);t.length&&new a(t[0]).init()}}(jQuery),$(document).ready(function(){RDMobilemenu_autoinit('[data-type="navbar"]')});